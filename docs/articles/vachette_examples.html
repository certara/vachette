<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vachette Examples • vachette</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Vachette Examples">
<meta property="og:description" content="vachette">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vachette</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.39.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/vachette_examples.html">Examples</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/certara/vachette/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Vachette Examples</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/certara/vachette/blob/HEAD/vignettes/vachette_examples.Rmd" class="external-link"><code>vignettes/vachette_examples.Rmd</code></a></small>
      <div class="hidden name"><code>vachette_examples.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"certara/vachette"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="load-libraries">Load Libraries<a class="anchor" aria-label="anchor" href="#load-libraries"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/certara/vachette" class="external-link">vachette</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/certara/tidyvpc" class="external-link">tidyvpc</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">egg</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="iv">IV<a class="anchor" aria-label="anchor" href="#iv"></a>
</h3>
<div class="section level4">
<h4 id="import-data">Import Data<a class="anchor" aria-label="anchor" href="#import-data"></a>
</h4>
<p>Data files:</p>
<ul>
<li>iv-obs.csv</li>
<li>iv-typ.csv</li>
<li>iv-vpc.csv</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"iv-obs.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">typ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"iv-typ.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"iv-vpc.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vachette-transformations">Vachette Transformations<a class="anchor" aria-label="anchor" href="#vachette-transformations"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vd</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/vachette_data.html">vachette_data</a></span><span class="op">(</span></span>
<span>    obs.data <span class="op">=</span> <span class="va">obs</span>,</span>
<span>    typ.data <span class="op">=</span> <span class="va">typ</span>,</span>
<span>    sim.data <span class="op">=</span> <span class="va">sim</span>,</span>
<span>    covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>WT<span class="op">=</span><span class="fl">70</span><span class="op">)</span>,</span>
<span>    mappings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                 OBS <span class="op">=</span> <span class="st">"DV"</span><span class="op">)</span>,</span>
<span>    model.name  <span class="op">=</span> <span class="st">"Intravenous (i.v)"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/apply_transformations.html">apply_transformations</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `EVID` column found in obs.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
<pre><code><span><span class="co">## `EVID` column found in typ.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="vachette-plot">Vachette Plot<a class="anchor" aria-label="anchor" href="#vachette-plot"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/p.vachette.html">p.vachette</a></span><span class="op">(</span><span class="va">vd</span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="vpc">VPC<a class="anchor" aria-label="anchor" href="#vpc"></a>
</h4>
<p>Extract obs.all and sim.all data from <code>vachette_data</code>
object with vachette transformations</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">obs.all</span></span>
<span><span class="va">sim_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">sim.all</span></span></code></pre></div>
<p>Generate traditional and vachette transformed VPC’s</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vpc_vachette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">egg</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/egg/man/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Traditional VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc_vachette</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Vachette Transformed VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="oral-absorption">Oral-Absorption<a class="anchor" aria-label="anchor" href="#oral-absorption"></a>
</h3>
<div class="section level4">
<h4 id="import-data-1">Import Data<a class="anchor" aria-label="anchor" href="#import-data-1"></a>
</h4>
<p>Data files:</p>
<ul>
<li>oral-absorption-obs.csv</li>
<li>oral-absorption-typ.csv</li>
<li>oral-absorption-vpc.csv</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"oral-absorption-obs.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">typ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"oral-absorption-typ.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"oral-absorption-vpc.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vachette-transformations-1">Vachette Transformations<a class="anchor" aria-label="anchor" href="#vachette-transformations-1"></a>
</h4>
<p>Generate transformations for obs.data and sim.data</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vd</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/vachette_data.html">vachette_data</a></span><span class="op">(</span></span>
<span>    obs.data <span class="op">=</span> <span class="va">obs</span>,</span>
<span>    typ.data <span class="op">=</span> <span class="va">typ</span>,</span>
<span>    sim.data <span class="op">=</span> <span class="va">sim</span>,</span>
<span>    covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>WT<span class="op">=</span><span class="fl">70</span><span class="op">)</span>,</span>
<span>    mappings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                 OBS <span class="op">=</span> <span class="st">"DV"</span><span class="op">)</span>,</span>
<span>    model.name  <span class="op">=</span> <span class="st">"oral-absorption"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/apply_transformations.html">apply_transformations</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `EVID` column found in obs.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
<pre><code><span><span class="co">## `EVID` column found in typ.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="vachette-plot-1">Vachette Plot<a class="anchor" aria-label="anchor" href="#vachette-plot-1"></a>
</h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/p.vachette.html">p.vachette</a></span><span class="op">(</span><span class="va">vd</span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="vpc-1">VPC<a class="anchor" aria-label="anchor" href="#vpc-1"></a>
</h4>
<p>Extract obs.all and sim.all data from <code>vachette_data</code>
object with vachette transformations</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">obs.all</span></span>
<span><span class="va">sim_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">sim.all</span></span></code></pre></div>
<p>Generate traditional and vachette transformed VPC’s</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vpc_vachette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">egg</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/egg/man/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Traditional VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc_vachette</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Vachette Transformed VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="oral-two-cov">Oral-Two-Cov<a class="anchor" aria-label="anchor" href="#oral-two-cov"></a>
</h3>
<div class="section level4">
<h4 id="import-data-2">Import Data<a class="anchor" aria-label="anchor" href="#import-data-2"></a>
</h4>
<p>Data files:</p>
<ul>
<li>oral-two-cov-obs.csv</li>
<li>oral-two-cov-typ.csv</li>
<li>oral-two-cov-vpc.csv</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"oral-two-cov-obs.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">typ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"oral-two-cov-typ.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"oral-two-cov-vpc.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Next, filter out dose records from sim.data. Note, dosing records
should not be in sim.data, vachette extracts dosenr from obs.data and
merges into sim.data by ID and x, if sim.data is specified in
<code><a href="../reference/vachette_data.html">vachette_data()</a></code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="va">sim</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">EVID</span> <span class="op">!=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vachette-transformations-2">Vachette Transformations<a class="anchor" aria-label="anchor" href="#vachette-transformations-2"></a>
</h4>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vd</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/vachette_data.html">vachette_data</a></span><span class="op">(</span></span>
<span>    obs.data <span class="op">=</span> <span class="va">obs</span>,</span>
<span>    typ.data <span class="op">=</span> <span class="va">typ</span>,</span>
<span>    sim.data <span class="op">=</span> <span class="va">sim</span>,</span>
<span>    covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>WT<span class="op">=</span><span class="fl">70</span>,</span>
<span>                   AGE<span class="op">=</span><span class="fl">30</span><span class="op">)</span>,</span>
<span>    mappings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                 OBS <span class="op">=</span> <span class="st">"DV"</span><span class="op">)</span>,</span>
<span>    model.name  <span class="op">=</span> <span class="st">"oral-two-cov"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/apply_transformations.html">apply_transformations</a></span><span class="op">(</span>window <span class="op">=</span> <span class="fl">23</span>,</span>
<span>                        window.d1.refine <span class="op">=</span> <span class="fl">7</span>,</span>
<span>                        window.d2.refine <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `EVID` column found in obs.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
<pre><code><span><span class="co">## `EVID` column found in typ.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="vachette-plot-2">Vachette Plot<a class="anchor" aria-label="anchor" href="#vachette-plot-2"></a>
</h4>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/p.vachette.html">p.vachette</a></span><span class="op">(</span><span class="va">vd</span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="vpc-2">VPC<a class="anchor" aria-label="anchor" href="#vpc-2"></a>
</h4>
<p>Extract obs.all and sim.all data from <code>vachette_data</code>
object with vachette transformations.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">obs.all</span></span>
<span><span class="va">obs_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">obs.all</span></span></code></pre></div>
<p>Generate traditional and vachette transformed VPC’s</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vpc_vachette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">egg</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/egg/man/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Traditional VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc_vachette</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Vachette Transformed VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="sigmoid">Sigmoid<a class="anchor" aria-label="anchor" href="#sigmoid"></a>
</h3>
<div class="section level4">
<h4 id="import-data-3">Import Data<a class="anchor" aria-label="anchor" href="#import-data-3"></a>
</h4>
<p>Data files:</p>
<ul>
<li>sigmoid-obs.csv</li>
<li>sigmoid-typ.csv</li>
<li>sigmoid-vpc.csv</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"sigmoid-obs.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">typ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"sigmoid-typ.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"sigmoid-vpc.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vachette-transformations-3">Vachette Transformations<a class="anchor" aria-label="anchor" href="#vachette-transformations-3"></a>
</h4>
<p>Generate transformations for obs.data</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vd</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/vachette_data.html">vachette_data</a></span><span class="op">(</span></span>
<span>    obs.data <span class="op">=</span> <span class="va">obs</span>,</span>
<span>    typ.data <span class="op">=</span> <span class="va">typ</span>,</span>
<span>    sim.data <span class="op">=</span> <span class="va">sim</span>,</span>
<span>    covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>WT<span class="op">=</span><span class="fl">70</span><span class="op">)</span>,</span>
<span>    mappings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"bmx"</span>,</span>
<span>                 OBS <span class="op">=</span> <span class="st">"DV"</span><span class="op">)</span>,</span>
<span>    model.name  <span class="op">=</span> <span class="st">"sigmoid"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/apply_transformations.html">apply_transformations</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `dosenr` column is required and not found in obs.data `dosenr` can be automatically calculated using `EVID`, `AMT`, or `ADDL/II` columns in the data. Use the 'mappings' argument if these columns are named differently in your input data.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Setting `dosenr` column to 1 in obs.data</span></span></code></pre>
<pre><code><span><span class="co">## `dosenr` column is required and not found in typ.data `dosenr` can be automatically calculated using `EVID`, `AMT`, or `ADDL/II` columns in the data. Use the 'mappings' argument if these columns are named differently in your input data.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Setting `dosenr` column to 1 in typ.data</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="vachette-plot-3">Vachette Plot<a class="anchor" aria-label="anchor" href="#vachette-plot-3"></a>
</h4>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/p.vachette.html">p.vachette</a></span><span class="op">(</span><span class="va">vd</span>, log.x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-21-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="vpc-3">VPC<a class="anchor" aria-label="anchor" href="#vpc-3"></a>
</h4>
<p>Extract obs.all and sim.all with vachette transformations</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">obs.all</span></span>
<span><span class="va">sim_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">sim.all</span></span></code></pre></div>
<p>Generate traditional and vachette transformed VPC’s</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"centers"</span>, </span>
<span>                          centers <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.003</span>,<span class="fl">0.01</span>,<span class="fl">0.03</span>,<span class="fl">0.1</span>,<span class="fl">0.3</span>,<span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">10</span>,<span class="fl">30</span>,<span class="fl">100</span>,<span class="fl">300</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vpc_vachette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"centers"</span>, </span>
<span>                          centers <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.003</span>,<span class="fl">0.01</span>,<span class="fl">0.03</span>,<span class="fl">0.1</span>,<span class="fl">0.3</span>,<span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">10</span>,<span class="fl">30</span>,<span class="fl">100</span>,<span class="fl">300</span><span class="op">)</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">egg</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/egg/man/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Traditional VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc_vachette</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Vachette Transformed VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="indirect-response">Indirect Response<a class="anchor" aria-label="anchor" href="#indirect-response"></a>
</h3>
<div class="section level4">
<h4 id="import-data-4">Import Data<a class="anchor" aria-label="anchor" href="#import-data-4"></a>
</h4>
<p>Data files:</p>
<ul>
<li>indirect-response-obs.csv</li>
<li>indirect-response-typ.csv</li>
<li>indirect-response-vpc.csv</li>
</ul>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"indirect-response-obs.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">typ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"indirect-response-typ.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"indirect-response-vpc.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vachette-transformations-4">Vachette Transformations<a class="anchor" aria-label="anchor" href="#vachette-transformations-4"></a>
</h4>
<p>Generate transformations for obs.data</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vd</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/vachette_data.html">vachette_data</a></span><span class="op">(</span></span>
<span>    obs.data <span class="op">=</span> <span class="va">obs</span>,</span>
<span>    typ.data <span class="op">=</span> <span class="va">typ</span>,</span>
<span>    sim.data <span class="op">=</span> <span class="va">sim</span>,</span>
<span>    covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>WT<span class="op">=</span><span class="fl">70</span><span class="op">)</span>,</span>
<span>    mappings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                 OBS <span class="op">=</span> <span class="st">"DV"</span><span class="op">)</span>,</span>
<span>    model.name  <span class="op">=</span> <span class="st">"indirect-response"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/apply_transformations.html">apply_transformations</a></span><span class="op">(</span>tol.noise <span class="op">=</span> <span class="fl">1e-05</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `EVID` column found in obs.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
<pre><code><span><span class="co">## `EVID` column found in typ.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
<pre><code><span><span class="co">## Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span></span>
<span><span class="co">## collapsing to unique 'x' values</span></span>
<span></span>
<span><span class="co">## Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span></span>
<span><span class="co">## collapsing to unique 'x' values</span></span>
<span></span>
<span><span class="co">## Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span></span>
<span><span class="co">## collapsing to unique 'x' values</span></span>
<span></span>
<span><span class="co">## Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span></span>
<span><span class="co">## collapsing to unique 'x' values</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="vachette-plot-4">Vachette Plot<a class="anchor" aria-label="anchor" href="#vachette-plot-4"></a>
</h4>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/p.vachette.html">p.vachette</a></span><span class="op">(</span><span class="va">vd</span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-26-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="vpc-4">VPC<a class="anchor" aria-label="anchor" href="#vpc-4"></a>
</h4>
<p>Extract obs.all data from <code>vachette_data</code> object with
vachette transformations from observed data.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">obs.all</span></span>
<span><span class="va">sim_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">sim.all</span></span></code></pre></div>
<p>Generate traditional and vachette transformed VPC’s</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vpc_vachette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">egg</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/egg/man/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Traditional VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc_vachette</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Vachette Transformed VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-28-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="indirect-response-high-dose">Indirect Response High Dose<a class="anchor" aria-label="anchor" href="#indirect-response-high-dose"></a>
</h3>
<div class="section level4">
<h4 id="import-data-5">Import Data<a class="anchor" aria-label="anchor" href="#import-data-5"></a>
</h4>
<p>Data files:</p>
<ul>
<li>indirect-response-high-dose-obs.csv</li>
<li>indirect-response-high-dose-typ.csv</li>
<li>indirect-response-high-dose-vpc.csv</li>
</ul>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"indirect-response-high-dose-obs.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">typ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"indirect-response-high-dose-typ.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"vachette"</span>, <span class="st">"examples"</span>, <span class="st">"indirect-response-high-dose-vpc.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vachette-transformations-5">Vachette Transformations<a class="anchor" aria-label="anchor" href="#vachette-transformations-5"></a>
</h4>
<p>Generate transformations for obs.data</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vd</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/vachette_data.html">vachette_data</a></span><span class="op">(</span></span>
<span>    obs.data <span class="op">=</span> <span class="va">obs</span>,</span>
<span>    typ.data <span class="op">=</span> <span class="va">typ</span>,</span>
<span>    sim.data <span class="op">=</span> <span class="va">sim</span>, </span>
<span>    covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>DOSE<span class="op">=</span><span class="fl">1000000</span><span class="op">)</span>,</span>
<span>    mappings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                 OBS <span class="op">=</span> <span class="st">"DV"</span><span class="op">)</span>,</span>
<span>    model.name  <span class="op">=</span> <span class="st">"indirect-response-high-dose"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/apply_transformations.html">apply_transformations</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `EVID` column found in obs.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
<pre><code><span><span class="co">## `EVID` column found in typ.data, creating `dosenr` column in data for corresponding ref.dosenr value</span></span></code></pre>
<pre><code><span><span class="co">## Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span></span>
<span><span class="co">## collapsing to unique 'x' values</span></span>
<span></span>
<span><span class="co">## Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span></span>
<span><span class="co">## collapsing to unique 'x' values</span></span>
<span></span>
<span><span class="co">## Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span></span>
<span><span class="co">## collapsing to unique 'x' values</span></span>
<span></span>
<span><span class="co">## Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):</span></span>
<span><span class="co">## collapsing to unique 'x' values</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="vachette-plot-5">Vachette Plot<a class="anchor" aria-label="anchor" href="#vachette-plot-5"></a>
</h4>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/p.vachette.html">p.vachette</a></span><span class="op">(</span><span class="va">vd</span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-31-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="vpc-5">VPC<a class="anchor" aria-label="anchor" href="#vpc-5"></a>
</h4>
<p>Extract obs.all and sim.all data from <code>vachette_data</code>
object with vachette transformations.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">obs.all</span></span>
<span><span class="va">sim_trans</span> <span class="op">&lt;-</span> <span class="va">vd</span><span class="op">$</span><span class="va">sim.all</span></span></code></pre></div>
<p>Generate traditional and vachette transformed VPC’s</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vpc_vachette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/observed.html" class="external-link">observed</a></span><span class="op">(</span><span class="va">obs_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/simulated.html" class="external-link">simulated</a></span><span class="op">(</span><span class="va">sim_trans</span>, x<span class="op">=</span><span class="va">x.scaled</span>, y<span class="op">=</span><span class="va">y.scaled</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/binning.html" class="external-link">binning</a></span><span class="op">(</span>bin <span class="op">=</span> <span class="st">"pam"</span>, nbins <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidyvpc/man/vpcstats.html" class="external-link">vpcstats</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">egg</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/egg/man/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Traditional VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">vpc_vachette</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Vachette Transformed VPC"</span><span class="op">)</span> <span class="op">+</span> <span class="va">rmd_theme</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="vachette_examples_files/figure-html/unnamed-chunk-33-1.png" width="700"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jos Lommerse, Anna Largajolli, James Craig, Certara USA, Inc..</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
